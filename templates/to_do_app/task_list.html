{% extends "base.html" %}

{% block content %}
  <h1>
    Task List:
    <a style="float: right" class="btn btn-primary" href="{% url "to_do_app:task-create" %}">
      Create New Task
    </a>
  </h1>
  <ul class="list-group list-group-flush">
    {% for task in task_list %}
      <li class="list-group-item">
        <h5>
          {{ task.content }}
          {% if task.done %}
            <span class="badge bg-success">Done</span>
          {% else %}
            <span class="badge bg-danger">Not Done</span>
          {% endif %}
        </h5>
        <p>
          Created: {{ task.created_at }} 
          {% if task.deadline %}
            Deadline: {{ task.deadline }}
          {% endif %}
        </p>
        
        <p>
          <strong>
            Tags:
          </strong>
          {% for tag in task.tags.all %}
            {{ tag.name }}
          {% endfor %}
        </p>
        <a href="{% url "to_do_app:task-update" pk=task.id %}">Update</a>
      </li>
    {% endfor %}
  </ul>
{% endblock %}